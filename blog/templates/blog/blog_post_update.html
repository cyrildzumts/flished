{% extends "base.html" %}
{% load i18n %} 
{% load static %}

{% block HEADER %}
{% include "tags/editor_header.html" %}
{% endblock HEADER %}


{% block MAIN %}
<div class="full">
  <div class="flex flex-center  flex-wrap editor-post editor-wrapper full padding">
    {% include "tags/post_published_tag.html" %}
    <div class="flex flex-left flex-wrap padding-v full">
        {% include "tags/preview_form.html" %}
        <input type="text" id="title" class="full" name="title" placeholder="{{UI_STRINGS_CONTEXT.UI_BLOG_INPUT_TITLE_PLACEHOLDER}}" value="{{post.title}}">
        <div class="padding">
          <span>{% translate "Category" %}</span>
          <div class="flex flex-left flex-wrap">
              {% for c in categories %} <span class="padding"><input type="radio" name="category" id="category-{{c.name}}" value="{{c.pk}}" {% if post.category == c %}checked{% endif %}><label for="category-{{c.name}}">{{c.display_name}}</label></span> {% endfor %}
          </div>
          <div class="hint hidden"><p>{% translate "Please, select a category" %}</p></div>
      </div>
    </div>
    <form action="">{% csrf_token %}
      <input id="content" type="hidden" name="content" value="{{post.content_json_str|default_if_none:''}}">
    </form>
    <div id="editor" class="full mat-box editor padding full-h" 
                      data-post="{{post.post_uuid}}" 
                      data-action="update" 
                      data-author="{{request.user.pk}}" 
                      data-placeholder="{{UI_STRINGS_CONTEXT.UI_EDITOR_PLACEHOLDER}}">
    </div>
  </div>
</div>
{% endblock MAIN %}
{% block FOOTER %}{% endblock FOOTER %}